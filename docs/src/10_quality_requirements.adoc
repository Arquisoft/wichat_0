ifndef::imagesdir[:imagesdir: ../images]

[[section-quality-scenarios]]
== Quality Requirements

This section defines the quality requirements for the **WIChat** application, structured as a **Quality Tree** and detailed with **Quality Scenarios**. 
These requirements directly align with the prioritized quality goals from section 1.2.

=== Quality Tree

[plantuml,"Quality Tree",png]
----
@startuml
left to right direction

rectangle "Quality" {
  rectangle "1. Functional Suitability" as func
  rectangle "2. Reliability" as rel
  rectangle "3. Availability" as avail
  rectangle "4. Maintainability" as maint
  rectangle "5. Performance Efficiency" as perf
  rectangle "6. Usability" as usa
  rectangle "7. Portability" as port
  rectangle "8. Security" as sec
}

func --> rel
rel --> avail
avail --> maint
maint --> perf
perf --> usa
usa --> port
port --> sec
@enduml
----
//#caption: Quality Tree Prioritized by Stakeholder Goals

=== Quality Scenarios

[cols="1,2,2,2", options="header"]
|===
| Scenario ID | Stimulus | System Response | Metric
| **Functional Suitability** 
| FS-1 | User interacts with core features (register, login, play quiz, access stats) | System enables all functionalities without errors | 100% feature coverage
| FS-2 | User requests an LLM hint | System provides contextually relevant hints | Hint relevance ≥ 90% (user-rated)

| **Reliability**
| RL-1 | System generates questions from Wikidata | Questions are accurate and diverse | Error rate ≤ 1% (invalid questions)
| RL-2 | User registers/logs in | Data is stored without corruption | Data integrity = 100%
| RL-3 | LLM processes hint request | Output avoids hallucinations | Hallucination rate ≤ 5%

| **Availability**
| AV-1 | User accesses the system | System is operational | Uptime ≥ 99%

| **Maintainability**
| MN-1 | Developer updates question-generation logic | Changes deployed within 2 hours | Mean time to update (MTTU) ≤ 2h

| **Performance Efficiency**
| PE-1 | 1000 users play concurrently | System responds within 2 seconds | Response time ≤ 2s at 1000 users
| PE-2 | Wikidata generates questions | Questions load in ≤ 1.5s | Generation time ≤ 1.5s

| **Usability**
| US-1 | New user starts gameplay | User learns core features in <3 hours | Learning time <3h (user-reported)
| US-2 | User navigates interface | Intuitive UI/UX with minimal clicks | Task success rate ≥ 95%

| **Portability**
| PT-1 | User accesses via Chrome/Firefox/Safari | Consistent experience across browsers | Compatibility = 100%
| PT-2 | User plays on mobile/desktop | Responsive design adapts to screen size | Mobile usability score ≥ 90/100

| **Security**
| SC-1 | User registers/logs in | Authentication succeeds with encryption | 100% HTTPS compliance
| SC-2 | API requests user/question data | Authorization tokens validated | Unauthorized access rate = 0%
|===

=== Explanation of Key Quality Attributes

==== 1. Functional Suitability
- **Core Features**: Registration, login, quiz gameplay, user stats, and LLM hints must work flawlessly.
- **LLM Integration**: Hints must align with Wikidata-generated questions to avoid misleading users.

==== 2. Reliability
- **Wikidata Accuracy**: Automated validation checks ensure questions meet accuracy thresholds.
- **LLM Training**: Fine-tuning with Wikidata context reduces hallucination risks.

==== 3. Availability
- **Uptime**: Achieved via load balancing (e.g., cloud hosting) and redundant backups.

==== 4. Maintainability
- **Modular Design**: Decoupled frontend/backend and clear API contracts enable rapid updates.
- **Documentation**: ADRs (Architecture Decision Records) and Arc42 templates ensure knowledge retention.

==== 5. Performance Efficiency
- **Concurrency**: Horizontal scaling (NodeJS clusters) and MongoDB optimizations (indexing) handle 1000+ users.
- **Caching**: Frequently used Wikidata queries cached to reduce latency.

==== 6. Usability
- **Onboarding**: Interactive tutorials and tooltips reduce learning time.
- **UI Consistency**: React component library ensures uniform design.

==== 7. Portability
- **Responsive Design**: Bootstrap/CSS Grid adapts layouts to devices.
- **Cross-Browser Testing**: Automated tools (e.g., Selenium) validate compatibility.

==== 8. Security
- **Authentication**: JWT tokens with OAuth2 for user sessions.
- **API Security**: Rate-limiting and role-based access control (RBAC) for endpoints.

=== Trade-offs
- **Empathy API vs. Gemini**: Simpler integration (Empathy) prioritized over advanced NLP capabilities.
- **MongoDB Flexibility vs. ACID Compliance**: Schema flexibility chosen over transactional rigor for MVP speed.

=== Summary
These quality requirements ensure WIChat meets stakeholder priorities: 
**functional completeness**, **reliable question/hint generation**, **high availability**, and **secure user interactions**. 
Metrics are designed to be measurable, enabling objective validation during testing.